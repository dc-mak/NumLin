\section{Soundness Proof}

\[
    \forall \Theta, \Delta, \Gamma, e, t.\ \Theta; \Delta ; \Gamma \vdash e : t \Rightarrow
    \den{}{}{ \Theta; \Delta ; \Gamma \vdash e : t } 
\]

\begin{proof}

    \pfsketch{ Induction over the typing judgements.\\ }

    \assume{%
        Arbitrary $\Theta, \Delta, \Gamma, e, t$ such that $\Theta; \Delta ; \Gamma \vdash e : t$.\\
        Arbitrary $\theta, k, \delta, \gamma, \sigma$ such that:
        \begin{pfenum}
            \item $\textrm{dom}(\Theta) = \textrm{dom}(\theta)$
            \item $(\sigma, \gamma) \in \den{L}{k}{\Gamma}\theta$
            \item $\delta \in \den{I}{k}{\Delta}\theta$.\\
        \end{pfenum}
    }

    \prove{$(\sigma, \gamma(\delta(e))) \in \C{k}{\theta(t)}$.\\}

    \step{}{%
        \case{%
            \textsc{Ty\_Var\_Lin}.
        }{%
            \prove{$(\sigma, \gamma(\delta(x))) \in \C{k}{\theta(t)}$.\\}
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_Var}.
        }{%
            \prove{$(\sigma, \gamma(\delta(x))) \in \C{k}{\theta(t)}$.\\}
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_Let}.
        }{%
            \prove{$(\sigma, \gamma(\delta(\ottkw{let}\, x\, =\, e\, \ottkw{in}\, e'))) \in \C{k}{\theta(t)}$.\\}
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_Unit\_Intro}.
        }{%
            \prove{$(\sigma, \gamma(\delta(\, ()\,))) \in \C{k}{\theta(\Unit)}$.\\}
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_Unit\_Elim}.
        }{%
            \prove{$(\sigma, \gamma(\delta(\ottkw{let}\, ()\, =\, e\, \ottkw{in}\, e'))) \in \C{k}{\theta(t)}$.\\}
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_Bool\_True}.
        }{%
            \prove{$(\sigma, \gamma(\delta(\ottkw{true}))) \in \C{k}{\theta(\Bool)}$.\\}
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_Bool\_False}, \textsc{Ty\_Int\_Intro}, \textsc{Ty\_Elt\_Intro}.
        }{%
            Similar to \textsc{Ty\_Bool\_True}.
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_Bool\_Elim}.
        }{%
            \prove{$(\sigma, \gamma(\delta(\ottkw{if}\, e\, \ottkw{then}\, e_1\, \ottkw{else}\, e_2))) \in \C{k}{\theta(t)}$.\\}
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_Bang\_Intro}.
        }{%
            \prove{$(\sigma, \gamma(\delta(\ottkw{Many}\, e))) \in \C{k}{\theta(!t)}$.\\}
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_Bang\_Elim}.
        }{%
            \prove{$(\sigma, \gamma(\delta(\ottkw{let}\, \ottkw{Many}\, x\, =\, e\, \ottkw{in}\, e'))) \in \C{k}{\theta(t)}$.\\}
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_Pair\_Intro}.
        }{%
            \prove{$(\sigma, \gamma(\delta(\, ( e, e')\, ))) \in \C{k}{\theta(t \otimes t')}$.\\}
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_Pair\_Elim}.
        }{%
            \prove{$(\sigma, \gamma(\delta(\ottkw{let}\, (a, b)\, =\, e\, \ottkw{in}\, e'))) \in \C{k}{\theta(t)}$.\\}
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_Lambda}.
        }{%
            \prove{$(\sigma, \gamma(\delta(\ottkw{fun}\, x : t' \rightarrow e))) \in \C{k}{\theta(t' \multimap t)}$.\\}
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_App}.
        }{%
            \prove{$(\sigma, \gamma(\delta(\,e \,e'\,))) \in \C{k}{\theta(t)}$.\\}
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_Gen}.
        }{%
            \prove{$(\sigma, \gamma(\delta(\ottkw{fun}\, fc \rightarrow e))) \in \C{k}{\theta(\forall \, fc.\, t)}$.\\}
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_Spc}.
        }{%
            \prove{$(\sigma, \gamma(\delta(e\, [f]))) \in \C{k}{\theta(t\, [fc/f])}$.\\}
        }
    }

    \step{}{%
        \case{%
            \textsc{Ty\_Fix}.
        }{%
        \prove{$(\sigma, \gamma(\delta(\ottkw{fix} (g, x : t, e : t')))) \in \C{k}{\theta(!\,(t \multimap t'))}$.\\}
        }
    }

\end{proof}
