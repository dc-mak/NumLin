(jbuild_version 1)

(executables (
    (names (repl transpile))
    (modules (eval repl transpile))
    (libraries (lt4la lwt lambda-term))
    (flags (:standard -short-paths))
    (preprocess (pps (lwt_ppx)))
))

(executable (
    (name benchmark)
    (modules (benchmark array_io functions))
    (libraries (owl kalman_c_ffi test base core core_bench))
    (flags (:standard -short-paths))
    (preprocess (pps (ppx_jane)))
))

(library (
    (name bindings)
    (modules (bindings))
    (libraries (ctypes.stubs ctypes))
    ; HACK to generate .merlin file with PPX rewriters
    (preprocess (pps (ppx_jane lwt_ppx ppx_driver.runner)))
))
